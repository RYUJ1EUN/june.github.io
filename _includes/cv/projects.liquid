{% comment %}
  Unified projects entry renderer for both formats
{% endcomment %}

<ul class="card-text font-weight-light list-group list-group-flush">
  {% assign last_year = "" %}
  {% for entry in entries %}
    {% comment %} 시작 날짜에서 연도 추출 (start_date 또는 startDate 대응) {% endcomment %}
    {% assign current_date = entry.start_date | default: entry.startDate %}
    {% assign current_year = current_date | split: '-' | first %}

    <li class="list-group-item" style="border: none; {% if current_year != last_year and current_year != "" %}border-top: 1px solid var(--global-divider-color) !important; padding-top: 2rem;{% else %}padding-top: 0;{% endif %} padding-bottom: 1.5rem;">
      <div class="row">
        <div class="col-xs-2 col-sm-2 col-md-2 text-center">
          {% if current_year != last_year and current_year != "" %}
            <span class="badge font-weight-bold danger-color-dark text-uppercase align-middle" style="min-width: 75px">
              {{ current_year }}
            </span>
            {% assign last_year = current_year %}
          {% endif %}
        </div>

        <div class="col-xs-10 col-sm-10 col-md-10 mt-2 mt-md-0">
          {% if entry.url %}
            <h6 class="title font-weight-bold">
              <a href="{{ entry.url }}" target="_blank">{{ entry.name }}</a>
            </h6>
          {% else %}
            <h6 class="title font-weight-bold">{{ entry.name }}</h6>
          {% endif %}

          {% if entry.summary %}
            <p>{{ entry.summary | markdownify | remove: '<p>' | remove: '</p>' }}</p>
          {% endif %}
        </div>
      </div>
    </li>
  {% endfor %}
</ul>