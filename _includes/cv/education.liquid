{% comment %}
  Unified education entry renderer for both RenderCV and JSONResume formats
  Handles both:
  - RenderCV: institution, area, studyType (or degree), start_date, end_date, location, courses, highlights
  - JSONResume: institution, area, studyType, startDate, endDate, location, courses, highlights
{% endcomment %}

<ul class="card-text font-weight-light list-group list-group-flush">
  {% for entry in entries %}
    <li class="list-group-item">
      <div class="row">
        <div class="col-xs-2 col-sm-2 col-md-2 text-center date-column">
          {% assign s_date = entry.start_date | default: entry.startDate %}
          {% assign e_date = entry.end_date | default: entry.endDate %}

          {% if s_date %}
            {% assign startDate = s_date | split: '-' | first %}
            {% assign endDate = e_date | split: '-' | first | default: 'Present' %}
            
            <table class="table-cv">
              <tbody>
                <tr>
                  <td>
                    <span class="badge font-weight-bold danger-color-dark text-uppercase align-middle" style="min-width: 75px">
                      {{ startDate }} - {{ endDate }}
                    </span>
                  </td>
                </tr>
                {% if entry.location %}
                <tr>
                  <td>
                    <p class="location">
                      <i class="fa-solid fa-location-dot iconlocation"></i> {{ entry.location }}
                    </p>
                  </td>
                </tr>
                {% endif %}
              </tbody>
            </table>
          {% endif %}
        </div>

        <div class="col-xs-10 col-sm-10 col-md-10 mt-2 mt-md-0">
          {% assign study_type = entry.studyType | default: entry.degree %}

          {% if study_type %}
            <h6 class="title font-weight-bold ml-1 ml-md-4">
              {% if entry.url %}
                <a href="{{ entry.url }}">{{ study_type }}</a>
              {% else %}
                {{ study_type }}
              {% endif %}
            </h6>
          {% endif %}

          {% if entry.institution %}
            <h6 class="ml-1 ml-md-4" style="font-size: 0.95rem">{{ entry.institution }}</h6>
          {% endif %}

          {% comment %} 
            area 항목이 데이터에 존재하더라도 화면에서 숨겨 빌드 오류를 방지합니다. 
          {% endcomment %}
          {% if entry.area %}
            <h6 class="ml-1 ml-md-4" style="display: none !important;">{{ entry.area }}</h6>
          {% endif %}

          {% if entry.courses or entry.highlights %}
            <ul class="items">
              {% for item in entry.courses %}
                <li><span class="item">{{ item }}</span></li>
              {% endfor %}
              {% for item in entry.highlights %}
                <li>
                  <span class="item">{{ item | markdownify | remove: '<p>' | remove: '</p>' }}</span>
                </li>
              {% endfor %}
            </ul>
          {% endif %}
        </div>
      </div>
    </li>
  {% endfor %}
</ul>